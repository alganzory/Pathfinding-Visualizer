<%- include ("./parts/header.ejs") %>

<link rel="stylesheet" href="/css/custom.css" />
<script defer src="/js/p5.min.js"></script>
<script defer src="/graphDS.js"></script>
<script defer src="/weighted.js"></script>
<script defer src="/unweighted.js"></script>
<script defer src="/js/sketches/board.js"></script>
<script defer src="/js/generateGraph.js"></script>

<div class="font-myfont">
    <div class="secondaryBanner"></div>
    <div 
        id="container" 
        class="container mx-auto -mt-56 text-center">
        <div 
            id = "header"
            class="w-full mb-4 px-10"> 
            <h2 
                class="text-white tracking-wide uppercase text-2xl font-bold sm:text-4xl">
                Simulation drawing tool
            </h2>
              <!--Modal Button and Content-->
            <section 
                class="p-5">
                <button id="how-to"
                  onclick= "document.getElementById('modal1').showModal()"
                  type="button"
                  class= "white-button py-3 px-10 bg-white text-blueishPurple-500  rounded-lg uppercase shadow-xl"
                  >How-To</button>
            </section>  
                   
            <dialog 
                id= 'modal1'
                class="p-5  mx-auto  bg-white rounded-md ">
                <div class="flex flex-col w-full ">
                    <!-- Header -->
                    <div class="grid grid-cols-3 mb-2 justify-items-end">

                        <div 
                            class="col-start-2 mx-auto my-auto h-auto text-2xl font-bold">
                            How-To
                        </div>
                        
                        <div 
                            onclick="document.getElementById('modal1').close();" 
                            class="col-start-3 my-auto  h-auto cursor-pointer">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                       
                        <!--Header End-->
                    </div>

                    <!-- Modal Content-->
                    <div class="flex-none w-full h-auto py-5 px-4 justify-center items-center bg-gray-200 rounded text-center text-gray-500 text-sm md:text-md">
                        1. Drag to move source cell (Robot) and click on it to rotate it
                        <br />
                        2. Drag to move destination cell (Target).
                        <br/>3. Click on a cell to fill it with an obstacle (click again to empty it).
                    </div>
                    <!-- End of Modal Content-->
                        
                </div>
            </dialog>
        </div>       
    </div>

    <!---MAIN-->
    <div
        id = "main" 
        class="container mx-auto">
        <div class= "flex flex-col space-y-10 md:flex-row md:justify-center md:space-x-10 md:space-y-0">
            <div
                id ="generate-graph" 
                class="mx-auto md:mx-0 flex-none rounded-lg shadow-lg bg-white 
                w-72">
                <form 
                    onsubmit="return false"
                    id= "generate-form" 
                    class="p-8">
                    <div id="rowsNcols" class="grid grid-cols-2 gap-6 justify-items-around mb-2">
                        <div>
                            <label class="block uppercase tracking-wide text-blueishPurple-500 text-sm mb-1"
                                for="rows">Rows
                            </label>
                            <input
                                id="rows"
                                class="block w-full bg-white text-gray-700 text-sm border border-gray-700 rounded-md py-1 px-1"
                                type="number" name="rows" step="1" min="0" max="50" value="15" />
                        </div>
                        <div>
                            <label class="block uppercase tracking-wide text-blueishPurple-500 text-sm mb-1"
                                for="cols">Columns
                            </label>
                            <input
                                id="cols"
                                class="block w-full bg-white text-gray-700 text-sm border border-gray-700 rounded-md py-1 px-1"
                                type="number" name="columns" step="1" min="0" max="50" value="15" />
                        </div>
                    </div>

                    <div id="sourceNdest" class="grid grid-cols-2 gap-6 justify-items-around mb-4">
                        <div>
                            <label for="source"
                                class="block uppercase tracking-wide text-blueishPurple-500 text-sm mb-1">Source</label>
                            <div id="source" class="grid grid-cols-2 gap-1 justify-items-around">
                                <input
                                    id="sourceX"
                                    class="w-12 bg-white text-gray-700 text-sm border border-gray-700 rounded-md py-1 px-1"
                                    name="sourceX" type="number" placeholder="x" value="7" min="0" max="49" />
                                <input
                                    id="sourceY"
                                    class="w-12 bg-white text-gray-700 text-sm border border-gray-700 rounded-md py-1 px-1"
                                    name="sourceY" type="number" placeholder="y" value="7" min="0" max="49" />
                            </div>
                        </div>
                        <div>
                            <label for="dest"
                                class="block uppercase tracking-wide text-blueishPurple-500 text-sm mb-1">Destination</label>
                            <div id="dest" class="grid grid-cols-2 gap-1 justify-items-around">
                                <input
                                    id="destX"
                                    class="w-12 bg-white text-gray-700 text-sm border border-gray-700 rounded-md py-1 px-1"
                                    name="destX" type="number" placeholder="x" value="14" min="0" max="49" />
                                <input
                                    id="destY"
                                    class="w-12 bg-white text-gray-700 text-sm border border-gray-700 rounded-md py-1 px-1"
                                    name="destY" type="number" placeholder="y" value="12" min="0" max="49" />
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-5 justify-items-between mb-4">
                        <button  
                            id="generate"
                            type="submit"
                            class="solid-button text-white text-sm uppercase py-2 px-2 rounded-lg" type="submit">
                            Generate
                        </button>
                        <button id="clear"
                            class="white-button text-blueishPurple-500 border border-gray-700  text-sm uppercase py-2 px-2 rounded-lg"
                            type="reset">
                            Clear
                        </button>
                    </div>
                </form>
            </div>
            
            <div
                id ="board-holder"
                class="mx-auto md:mx-0 flex-none rounded-lg shadow-lg bg-white border border-b-4 border-blueishPurple-500 
                w-auto overflow-hidden">
            <!-- Column Content -->
            </div>
        
            <div 
                id = "algo-choice"
                class="mx-auto md:mx-0 flex-none rounded-lg shadow-lg bg-white 
                w-72 ">
                <form 
                    class="p-8"
                >
                    <div class="flex mb-3 space-x-0 justify-between ">
                        <div class ="flex-none" >
                            <label for="algorithm"
                                class="block uppercase tracking-wide text-blueishPurple-500 text-sm mb-1">
                                Algorithm</label>
                            <select id="algorithm"
                                style="padding-top: 0.35rem; padding-bottom: 0.35rem;"
                                class="w-48 bg-white text-gray-700 text-sm border border-gray-700 rounded-md  px-1">
                                <option value="A-star"selected="selected">A*</option>
                                <option value="bfs" >
                                    Breadth-first search
                                </option>
                                <option value="dijkstra">Dijkstra</option>
                            </select>
                        </div>
                        <div class="flex-none pt-8">
                        <!--Modal Button and Content-->
                            <section class="flex justify-center items-start">
                                <button id="algo-info"
                                onclick= "document.getElementById('modal2').showModal()"
                                type="button"
                                class= "white-button fa bg-transparent text-blueishPurple-500 text-lg rounded-lg uppercase shadow-xl"
                                >&#xf05a;</button>
                            </section>  
                            <dialog 
                                id= 'modal2'
                                class="p-5  mx-auto  bg-white rounded-md ">
                                <div class="flex flex-col w-full ">
                                    <!-- Header -->
                                    <div class="grid grid-cols-3 mb-2 justify-items-end">

                                        <div 
                                            class="col-start-2 mx-auto my-auto h-auto text-2xl font-bold">
                                            Pathfinding Algorithms
                                        </div>
                                        
                                        <div 
                                            onclick="document.getElementById('modal2').close();" 
                                            class="col-start-3 my-auto  h-auto cursor-pointer">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                                        </div>
                                    
                                        <!--Header End-->
                                    </div>

                                    <!-- Modal Content-->
                                    <div class="flex-none w-full h-auto py-5 px-4 justify-center items-center bg-gray-200 rounded text-center text-gray-500 text-sm md:text-md">
                                        1. A*:
                                        <br />
                                        2. BFS:
                                        <br/>3.Dijksta: 
                                    </div>
                                    <!-- End of Modal Content-->
                                        
                                </div>
                            </dialog> 
                        </div>
                        
                    </div>
                    <div class="grid grid-cols-2 gap-5 justify-items-between mb-6">
                        <button 
                            id="solve" type="button"
                            class="solid-button text-white text-sm uppercase py-2 px-2 rounded-lg" type="submit">
                            Solve
                        </button>
                        <button id="stop"
                            disabled
                            class="white-button  text-blueishPurple-500 border border-gray-700  text-sm uppercase py-2 px-2 rounded-lg"
                            type="button">
                            Stop
                        </button>
                        <button id="clear-graph"
                            style="visibility:hidden; display:none;"
                            class="white-button text-blueishPurple-500 border border-gray-700  text-sm uppercase py-2 px-2 rounded-lg"
                            type="button">
                            Clear
                        </button>
                    </div>
                    <div>
                        <button id="connect" 
                            class="solid-button text-white w-full text-sm uppercase py-3 px-2 rounded-lg"
                            type="button">
                            Connect & RUN
                        </button>
                    </div>
                </form>
            </div>
        </div>
      
    </div>

</div>


<%- include ("./parts/footer.ejs") %>